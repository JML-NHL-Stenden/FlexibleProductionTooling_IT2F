<!-- product_module/views/product_views.xml -->
<odoo>
    <!-- Product Type Views -->
    <record id="view_product_type_list" model="ir.ui.view">
        <field name="name">product.module.type.list</field>
        <field name="model">product_module.type</field>
        <field name="arch" type="xml">
            <list string="Jobs">
                <field name="name"/>
                <field name="product_count" string="Total Products"/>
            </list>
        </field>
    </record>

    <record id="view_product_type_form" model="ir.ui.view">
        <field name="name">product.module.type.form</field>
        <field name="model">product_module.type</field>
        <field name="arch" type="xml">
            <form string="Job">
                <sheet>
                    <!-- Two Column Layout -->
                    <div style="display: flex; width: 100%; height: calc(100vh - 200px); gap: 24px;">
                        
                        <!-- LEFT COLUMN - Job Information -->
                        <div style="display: flex; flex-direction: column; flex: 1; min-width: 400px; max-width: 50%;">
                            <!-- Top Section: Name -->
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 16px; padding: 24px; margin-bottom: 24px; color: white;">
                                <div>
                                    <h1 style="color: white; margin: 0 0 8px 0; font-size: 24px; font-weight: 700;">
                                        <field name="name" placeholder="Job Name" required="1" style="color: white; background: transparent; border: none; font-size: 24px; width: 100%;"/>
                                    </h1>
                                    <div style="display: flex; gap: 12px; align-items: center; flex-wrap: wrap; margin-top: 12px;">
                                        <span style="background: rgba(255,255,255,0.2); border-radius: 20px; padding: 6px 12px; font-size: 12px; font-weight: 600;">
                                            <i class="fa fa-cube"/> <field name="product_count"/> Total Products
                                        </span>
                                    </div>
                                </div>
                            </div>

                            <!-- Bottom Section: Description (fills remaining space) -->
                            <div style="background: white; border-radius: 16px; padding: 24px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); flex: 1; display: flex; flex-direction: column;">
                                <h3 style="color: #2c3e50; margin-bottom: 16px; font-weight: 600;">
                                    <i class="fa fa-info-circle" style="color: #007bff; margin-right: 8px;"/> Job Information
                                </h3>
                                <div style="flex: 1; display: flex; flex-direction: column; gap: 16px;">
                                    <!-- Status Field -->
                                    <!-- TO MAKE STATUS EDITABLE: Remove 'readonly="1"' from line below -->
                                    <!-- TO MAKE STATUS READ-ONLY: Add 'readonly="1"' to the field below -->
                                    <div>
                                        <div class="o_form_label" style="font-weight: 600; color: #495057; margin-bottom: 8px; display: block;">Status:</div>
                                        <field name="status" widget="radio" options="{'horizontal': true}" style="font-size: 14px;"/>
                                        <!-- (Read-only version): Uncomment line below and comment line above -->
                                        <!-- <field name="status" widget="badge" readonly="1"/> -->
                                    </div>
                                    
                                    <!-- Description Field -->
                                    <div style="flex: 1; display: flex; flex-direction: column;">
                                        <div class="o_form_label" style="font-weight: 600; color: #495057; margin-bottom: 8px; display: block;">Description:</div>
                                        <field name="description" placeholder="Describe this product job..." style="width: 100%; flex: 1; min-height: 150px; resize: vertical; padding: 12px; border: 2px solid #e9ecef; border-radius: 8px; font-family: inherit;"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- RIGHT COLUMN - Products List -->
                        <div style="background: white; border-radius: 16px; padding: 24px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); display: flex; flex-direction: column; flex: 1; min-width: 400px; max-width: 50%;">
                            <h3 style="color: #2c3e50; margin-bottom: 16px; font-weight: 600;">
                                <i class="fa fa-list" style="color: #28a745; margin-right: 8px;"/> Products in this Job
                            </h3>

                            <!-- Products List (scrollable and editable) -->
                            <div style="flex: 1; overflow-y: auto; max-height: calc(100vh - 300px);">
                                <field name="product_ids" widget="many2many" nolabel="1">
                                    <list>
                                        <field name="name" string="Name"/>
                                        <field name="description" string="Description"/>
                                        <field name="product_code" string="Code"/>
                                    </list>
                                </field>
                            </div>

                            <!-- Empty State -->
                            <div invisible="product_ids" style="text-align: center; padding: 40px; color: #6c757d;">
                                <i class="fa fa-cube" style="font-size: 48px; margin-bottom: 16px; display: block; color: #dee2e6;"/>
                                <h4 style="color: #6c757d; margin-bottom: 8px;">No Products in this Job</h4>
                                <p style="font-size: 14px; margin-bottom: 16px;">Products that belong to this job will appear here.</p>
                                <div style="background: #f8f9fa; padding: 12px; border-radius: 8px; font-size: 13px; color: #495057;">
                                    <i class="fa fa-info-circle" style="color: #007bff; margin-right: 6px;"/>
                                    <strong>Note:</strong> Assign products to jobs from the Product List tab
                                </div>
                            </div>
                        </div>
                    </div>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Product Views -->
    <record id="view_product_list" model="ir.ui.view">
        <field name="name">product.module.product.list</field>
        <field name="model">product_module.product</field>
        <field name="arch" type="xml">
            <list string="Products">
                <field name="sequence" widget="handle"/>
                <field name="name"/>
                <field name="product_code"/>
                <field name="product_type_ids" widget="many2many_tags"/>
                <field name="image" widget="image" options="{'size': [64, 64]}"/>
                <field name="instruction_count" string="Processes"/>
            </list>
        </field>
    </record>

    <record id="view_product_form" model="ir.ui.view">
        <field name="name">product.module.product.form</field>
        <field name="model">product_module.product</field>
        <field name="arch" type="xml">
            <form string="Product Details">
                <sheet>
                    <!-- Two Column Layout: Left (4 sections) + Right (2 sections) -->
                    <div style="display: flex; gap: 24px; width: 100%; min-height: 600px;">
                        
                        <!-- LEFT COLUMN - 4 Sections -->
                        <div style="flex: 1; display: flex; flex-direction: column; gap: 24px;">
                            
                            <!-- 1. Name & Product Details (Merged) -->
                            <div style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%); border-radius: 12px; padding: 18px; color: white;">
                                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                                    <div style="width: 64px; height: 64px; border-radius: 12px; overflow: hidden; background: rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center; border: 2px solid rgba(255,255,255,0.3);">
                                        <field name="image" widget="image" options="{'size': [64, 64]}"/>
                                    </div>
                                    <div style="flex: 1;">
                                        <h2 style="color: white; margin: 0 0 12px 0; font-size: 18px; font-weight: 700;">Name</h2>
                                        <field name="name" placeholder="Enter Product Name" required="1" style="color: white; background: rgba(255,255,255,0.2); border: none; border-radius: 6px; padding: 10px 14px; width: 100%; font-size: 15px; font-weight: 600;"/>
                                    </div>
                                </div>
                                
                                <!-- Product Details integrated into Name section -->
                                <div>
                                    <div style="color: rgba(255,255,255,0.8); font-size: 12px; font-weight: 600; display: block; margin-bottom: 4px;">Product Code</div>
                                    <field name="product_code" required="1" style="color: white; background: rgba(255,255,255,0.2); border: none; border-radius: 6px; padding: 8px 10px; width: 100%; font-size: 13px;"/>
                                </div>
                            </div>

                            <!-- 2. Product Jobs -->
                            <div style="background: white; border-radius: 16px; padding: 24px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); flex: 1;">
                                <h3 style="color: #2c3e50; margin-bottom: 16px; font-weight: 600; display: flex; align-items: center;">
                                    <i class="fa fa-folder" style="color: #667eea; margin-right: 8px;"/> Product Jobs
                                </h3>
                                <field name="product_type_ids" widget="many2many_tags" style="width: 100%;"/>
                                <div style="font-size: 12px; color: #6c757d; margin-top: 8px;">
                                    <i class="fa fa-info-circle"/> Select jobs for this product
                                </div>
                            </div>

                            <!-- 3 & 4. QR Code and Components (Side by Side) -->
                            <div style="display: flex; gap: 24px;">
                                <!-- QR Code -->
                                <div style="background: white; border-radius: 16px; padding: 24px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); flex: 1;">
                                    <h3 style="color: #2c3e50; margin-bottom: 16px; font-weight: 600; display: flex; align-items: center;">
                                        <i class="fa fa-qrcode" style="color: #6f42c1; margin-right: 8px;"/> QR Code
                                    </h3>
                                    <div style="text-align: center;">
                                        <div style="background: #f8f9fa; border-radius: 12px; padding: 16px; margin-bottom: 12px; border: 2px dashed #dee2e6; display: inline-block;">
                                            <field name="qr_image" widget="image" filename="qr_image_name" options="{'size': [120, 120]}" style="max-width: 120px; max-height: 120px;"/>
                                        </div>
                                        <div style="margin-bottom: 12px; font-size: 12px; color: #6c757d; font-weight: 600;">
                                            <field name="qr_text" readonly="1" style="background: transparent; border: none; text-align: center;"/>
                                        </div>
                                        <button name="action_download_qr" type="object" class="btn btn-primary btn-sm" invisible="not id or not product_code">
                                            <i class="fa fa-download"/> Download
                                        </button>
                                    </div>
                                </div>

                                <!-- Materials -->
                                <div style="background: white; border-radius: 16px; padding: 24px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); flex: 1;">
                                    <h3 style="color: #2c3e50; margin-bottom: 16px; font-weight: 600; display: flex; align-items: center;">
                                        <i class="fa fa-puzzle-piece" style="color: #ff6b6b; margin-right: 8px;"/> Materials
                                    </h3>
                                    <field name="material_ids" widget="many2many_tags" style="width: 100%;"/>
                                    <div style="font-size: 12px; color: #6c757d; margin-top: 8px;">
                                        <i class="fa fa-info-circle"/> Select materials used in this product
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- RIGHT COLUMN - 2 Sections -->
                        <div style="flex: 1; display: flex; flex-direction: column; gap: 24px;">
                            
                            <!-- 1. Description -->
                            <div style="background: white; border-radius: 16px; padding: 24px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); flex: 1;">
                                <h3 style="color: #2c3e50; margin-bottom: 16px; font-weight: 600; display: flex; align-items: center;">
                                    <i class="fa fa-align-left" style="color: #007bff; margin-right: 8px;"/> Description
                                </h3>
                                <field name="description" placeholder="Enter detailed product description..." style="width: 100%; height: 200px; min-height: 200px; resize: vertical; padding: 12px; border: 2px solid #e9ecef; border-radius: 8px; font-family: inherit;"/>
                            </div>

                            <!-- 2. Processes -->
                            <div style="background: white; border-radius: 16px; padding: 24px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); flex: 2;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                                    <h3 style="color: #2c3e50; margin: 0; font-weight: 600; display: flex; align-items: center;">
                                        <i class="fa fa-list-ol" style="color: #fd7e14; margin-right: 8px;"/> Processes
                                    </h3>
                                </div>
                                <div class="alert alert-info" role="alert" style="margin-bottom: 16px; padding: 12px; font-size: 13px;">
                                    <i class="fa fa-lightbulb-o"/>
                                    <strong>Tip:</strong> Add process steps for this product
                                </div>
                                <field name="instruction_ids" context="{'default_product_id': id}" style="flex: 1;">
                                    <list editable="bottom">
                                        <field name="sequence" widget="handle"/>
                                        <field name="title" string="Process Title"/>
                                        <field name="process_step" string="Process Steps"/>
                                    </list>
                                </field>
                            </div>
                        </div>
                    </div>
                </sheet>
                <footer>
                    <!-- Left Side Buttons -->
                    <div style="display: flex; justify-content: space-between; width: 100%;">
                        <div style="display: flex; gap: 8px;">
                            <button string="Save &amp; Close" special="save" class="btn btn-success" data-hotkey="s"/>
                            <button string="Cancel" special="cancel" class="btn btn-secondary"/>
                            <button name="action_delete_product" type="object" string="Delete" class="btn btn-danger" confirm="Are you sure you want to delete this product?" invisible="not id"/>
                        </div>
                        <!-- Right Side Buttons -->
                        <div style="display: flex; gap: 8px;">
                            <button name="action_create_variant" string="Open Instruction Form" type="object" class="btn btn-warning" invisible="not id"/>
                            <button name="action_import_instructions" string="Import Processes" type="object" class="btn btn-secondary" invisible="not id"/>
                            <button name="action_export_instructions" string="Export Processes" type="object" class="btn btn-secondary" invisible="not id"/>
                        </div>
                    </div>
                </footer>
            </form>
        </field>
    </record>

    <!-- Main Page View with Three Tabs -->
    <record id="view_product_assemble_form" model="ir.ui.view">
        <field name="name">product.assemble.page.form</field>
        <field name="model">product_module.page</field>
        <field name="arch" type="xml">
            <form string="Dashboard">
                <sheet style="max-width: none; width: 100%;">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 16px; padding: 24px; margin-bottom: 24px; color: white;">
                        <div style="display: flex; align-items: center; justify-content: space-between;">
                            <div>
                                <h1 style="color: white; margin: 0; font-size: 32px; font-weight: 700;">
                                    <i class="fa fa-cube" style="margin-right: 12px;"/> <field name="name" readonly="1" style="color: white; background: transparent; border: none; font-size: 32px;"/>
                                </h1>
                                <p style="color: rgba(255,255,255,0.9); margin: 8px 0 0 0; font-size: 16px;">
                                    Organize your products into jobs and manage your complete product catalog
                                </p>
                            </div>
                            <div style="display: flex; gap: 12px;">
                                <div style="background: rgba(255,255,255,0.2); border-radius: 12px; padding: 12px 20px; text-align: center;">
                                    <div style="font-size: 24px; font-weight: 700; color: white;">
                                        <field name="project_count"/>
                                    </div>
                                    <div style="font-size: 12px; color: rgba(255,255,255,0.8);">Projects</div>
                                </div>
                                <div style="background: rgba(255,255,255,0.2); border-radius: 12px; padding: 12px 20px; text-align: center;">
                                    <div style="font-size: 24px; font-weight: 700; color: white;">
                                        <field name="job_count"/>
                                    </div>
                                    <div style="font-size: 12px; color: rgba(255,255,255,0.8);">Jobs</div>
                                </div>
                                <div style="background: rgba(255,255,255,0.2); border-radius: 12px; padding: 12px 20px; text-align: center;">
                                    <div style="font-size: 24px; font-weight: 700; color: white;">
                                        <field name="product_count"/>
                                    </div>
                                    <div style="font-size: 12px; color: rgba(255,255,255,0.8);">Products</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <notebook>
                        <!-- TAB 1: Projects -->
                        <page string="Projects" name="projects">
                            <div class="alert alert-success" role="alert">
                                <i class="fa fa-folder-open"/>
                                <strong>Projects</strong> - Create projects to organize your jobs. Each project can contain multiple jobs.
                            </div>

                            <div style="margin-bottom: 16px;">
                                <button name="action_create_project" type="object" class="btn btn-success" style="background: linear-gradient(45deg, #28a745 0%, #20c997 100%); border: none; border-radius: 8px; font-weight: 600; height: 44px; line-height: 44px; padding: 0 24px; display: inline-block;">
                                    <i class="fa fa-plus" style="margin-right: 8px;"/> Add New Project
                                </button>
                            </div>

                            <field name="project_ids" context="{'default_page_id': id}" widget="kanban">
                                <kanban create="false" multi_edit="1">
                                    <field name="name"/>
                                    <field name="job_count"/>
                                    <field name="description"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <div class="oe_kanban_card oe_kanban_global_click" style="border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin: 8px; border-left: 4px solid #28a745; width: 300px; min-height: 120px;">
                                                <div class="oe_kanban_content" style="padding: 16px;">
                                                    <!-- Project Info -->
                                                    <div style="flex: 1;">
                                                        <!-- Project Name -->
                                                        <div style="font-size: 18px; font-weight: 700; color: #2c3e50; margin-bottom: 8px;">
                                                            <field name="name"/>
                                                        </div>

                                                        <!-- Description -->
                                                        <div t-if="record.description.value" style="font-size: 13px; color: #6c757d; margin-bottom: 12px; line-height: 1.4; max-height: 40px; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">
                                                            <field name="description"/>
                                                        </div>

                                                        <!-- Total Jobs -->
                                                        <div style="font-size: 14px; color: #6c757d; background: #f8f9fa; padding: 4px 12px; border-radius: 20px; display: inline-block;">
                                                            <field name="job_count"/> Total Jobs
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </t>
                                    </templates>
                                </kanban>
                            </field>
                        </page>

                        <!-- TAB 2: Jobs -->
                        <page string="Jobs" name="product_categories">
                            <div class="alert alert-info" role="alert">
                                <i class="fa fa-info-circle"/>
                                <strong>Jobs</strong> - Create jobs to organize your products. Each job can contain multiple products.
                            </div>

                            <div style="margin-bottom: 16px;">
                                <button name="action_create_product_type" type="object" class="btn btn-primary" style="background: linear-gradient(45deg, #28a745 0%, #20c997 100%); border: none; border-radius: 8px; font-weight: 600; height: 44px; line-height: 44px; padding: 0 24px; display: inline-block;">
                                    <i class="fa fa-plus" style="margin-right: 8px;"/> Add New Job
                                </button>
                            </div>

                            <field name="product_type_ids" context="{'default_page_id': id}" widget="kanban">
                                <kanban create="false" multi_edit="1">
                                    <field name="name"/>
                                    <field name="product_count"/>
                                    <field name="description"/>
                                    <field name="status"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <div class="oe_kanban_card oe_kanban_global_click" style="border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin: 8px; border-left: 4px solid #667eea; width: 300px; min-height: 120px;">
                                                <div class="oe_kanban_content" style="padding: 16px;">
                                                    <!-- Job Info -->
                                                    <div style="flex: 1;">
                                                        <!-- Type Name with Status Badge -->
                                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                                            <div style="font-size: 18px; font-weight: 700; color: #2c3e50;">
                                                                <field name="name"/>
                                                            </div>
                                                            <!-- Status Badge -->
                                                            <span t-if="record.status.raw_value == 'ready'" style="background: #ffc107; color: white; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; white-space: nowrap;">
                                                                Ready to Start
                                                            </span>
                                                            <span t-if="record.status.raw_value == 'in_progress'" style="background: #007bff; color: white; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; white-space: nowrap;">
                                                                In Progress
                                                            </span>
                                                            <span t-if="record.status.raw_value == 'finished'" style="background: #28a745; color: white; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; white-space: nowrap;">
                                                                Finished
                                                            </span>
                                                        </div>

                                                        <!-- Description -->
                                                        <div t-if="record.description.value" style="font-size: 13px; color: #6c757d; margin-bottom: 12px; line-height: 1.4; max-height: 40px; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">
                                                            <field name="description"/>
                                                        </div>

                                                        <!-- Total Products -->
                                                        <div style="font-size: 14px; color: #6c757d; background: #f8f9fa; padding: 4px 12px; border-radius: 20px; display: inline-block;">
                                                            <field name="product_count"/> Total Products
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </t>
                                    </templates>
                                </kanban>
                            </field>
                        </page>

                        <!-- TAB 3: Product List -->
                        <page string="Product List" name="product_list">
                            <div class="alert alert-success" role="alert">
                                <i class="fa fa-list"/>
                                <strong>Product Catalog</strong> - Manage all your products. Assign them to jobs to organize and group similar products together.
                            </div>

                            <div style="margin-bottom: 16px;">
                                <button name="action_create_product" type="object" class="btn btn-success" style="background: linear-gradient(45deg, #28a745 0%, #20c997 100%); border: none; border-radius: 8px; font-weight: 600; height: 44px; line-height: 44px; padding: 0 24px; display: inline-block;">
                                    <i class="fa fa-plus" style="margin-right: 8px;"/> Add New Product
                                </button>
                            </div>

                            <field name="product_ids" mode="kanban" readonly="1">
                                <kanban create="false" edit="false" delete="false">
                                    <field name="id"/>
                                    <field name="name"/>
                                    <field name="product_code"/>
                                    <field name="product_type_ids"/>
                                    <field name="image"/>
                                    <field name="instruction_count"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <div class="oe_kanban_card" style="border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin: 8px; border-left: 4px solid #28a745; width: 300px; min-height: 140px;">
                                                <div class="oe_kanban_content" style="padding: 16px;">
                                                    <div style="display: flex; align-items: center; gap: 16px;">
                                                        <!-- Product Image -->
                                                        <div style="width: 80px; height: 80px; border-radius: 12px; overflow: hidden; background: #f8f9fa; display: flex; align-items: center; justify-content: center; border: 2px solid #e9ecef;">
                                                            <field name="image" widget="image" options="{'size': [80, 80]}"/>
                                                        </div>

                                                        <!-- Product Info -->
                                                        <div style="flex: 1;">
                                                            <!-- Product Name -->
                                                            <div style="font-size: 18px; font-weight: 700; color: #2c3e50; margin-bottom: 8px;">
                                                                <field name="name"/>
                                                            </div>

                                                            <!-- Product Code -->
                                                            <div style="margin-bottom: 8px;">
                                                                <div style="font-size: 12px; color: #6c757d; margin-bottom: 4px; font-weight: 600;">
                                                                    <i class="fa fa-barcode" style="margin-right: 4px;"/> Product Code
                                                                </div>
                                                                <div style="font-size: 14px; color: #495057; background: #e9ecef; padding: 6px 12px; border-radius: 8px; display: inline-block;">
                                                                    <field name="product_code"/>
                                                                </div>
                                                            </div>

                                                            <!-- Product Jobs -->
                                                            <div style="margin-bottom: 8px;">
                                                                <field name="product_type_ids" widget="many2many_tags"/>
                                                            </div>
                                                            
                                                            <!-- Edit Button -->
                                                            <div style="margin-top: 12px;">
                                                                <button name="action_edit_product" type="object" class="btn btn-sm btn-primary">
                                                                    <i class="fa fa-pencil"/> Edit
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </t>
                                    </templates>
                                </kanban>
                            </field>
                        </page>

                        <!-- TAB 4: Materials -->
                        <page string="Materials" name="materials">
                            <div class="alert alert-warning" role="alert">
                                <i class="fa fa-puzzle-piece"/>
                                <strong>Materials</strong> - Manage product materials and track which products use them.
                            </div>

                            <div style="margin-bottom: 16px;">
                                <button name="action_create_material" type="object" class="btn btn-warning" style="background: linear-gradient(45deg, #ff6b6b 0%, #ee5a24 100%); border: none; border-radius: 8px; font-weight: 600; height: 44px; line-height: 44px; padding: 0 24px; display: inline-block; color: white;">
                                    <i class="fa fa-plus" style="margin-right: 8px;"/> Add New Material
                                </button>
                            </div>

                            <field name="material_ids" context="{'default_page_id': id}" widget="kanban">
                                <kanban create="false" multi_edit="1">
                                    <field name="name"/>
                                    <field name="material_type"/>
                                    <field name="usage_count"/>
                                    <field name="image"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <div class="oe_kanban_card oe_kanban_global_click" style="border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin: 8px; border-left: 4px solid #ff6b6b; width: 300px; min-height: 140px;">
                                                <div class="oe_kanban_content" style="padding: 16px;">
                                                    <div style="display: flex; align-items: center; gap: 16px;">
                                                        <!-- Material Image -->
                                                        <div style="width: 80px; height: 80px; border-radius: 12px; overflow: hidden; background: #f8f9fa; display: flex; align-items: center; justify-content: center; border: 2px solid #e9ecef;">
                                                            <field name="image" widget="image" options="{'size': [80, 80]}"/>
                                                        </div>

                                                        <!-- Material Info -->
                                                        <div style="flex: 1;">
                                                            <!-- Material Name -->
                                                            <div style="font-size: 18px; font-weight: 700; color: #2c3e50; margin-bottom: 8px;">
                                                                <field name="name"/>
                                                            </div>

                                                            <!-- Material Type -->
                                                            <div style="margin-bottom: 8px;">
                                                                <div style="font-size: 12px; color: #6c757d; margin-bottom: 4px; font-weight: 600;">
                                                                    <i class="fa fa-tag"/> Type
                                                                </div>
                                                                <div style="font-size: 14px; color: #495057; background: #e9ecef; padding: 6px 12px; border-radius: 8px; display: inline-block; border-left: 3px solid #007bff;">
                                                                    <field name="material_type"/>
                                                                </div>
                                                            </div>

                                                            <!-- Usage Count -->
                                                            <div style="font-size: 14px; color: #6c757d; background: #f8f9fa; padding: 4px 12px; border-radius: 20px; display: inline-block;">
                                                                <field name="usage_count"/> Products
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </t>
                                    </templates>
                                </kanban>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Actions -->
    <record id="action_product_type" model="ir.actions.act_window">
        <field name="name">Jobs</field>
        <field name="res_model">product_module.type</field>
        <field name="view_mode">list,form</field>
        <field name="view_id" ref="view_product_type_list"/>
    </record>

    <record id="action_product" model="ir.actions.act_window">
        <field name="name">Products</field>
        <field name="res_model">product_module.product</field>
        <field name="view_mode">list,form</field>
        <field name="view_id" ref="view_product_list"/>
    </record>

    <record id="action_product_assemble_page" model="ir.actions.act_window">
        <field name="name">Products</field>
        <field name="res_model">product_module.page</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_product_assemble_form"/>
        <field name="res_id" ref="product_module.product_assemble_page_record"/>
        <field name="target">current</field>
        <field name="context">{'create': False, 'edit': True}</field>
    </record>

    <!-- TOP-LEVEL APP MENU -->
    <record id="menu_product_module_root" model="ir.ui.menu">
        <field name="name">Product Module</field>
        <field name="sequence">10</field>
        <field name="action" eval="False"/>
        <field name="parent_id" eval="False"/>
    </record>

    <!-- Menu items -->
    <menuitem id="menu_products"
              name="Products"
              parent="menu_product_module_root"
              action="action_product_assemble_page"
              sequence="10"/>

    <menuitem id="menu_projects"
              name="Projects"
              parent="menu_product_module_root"
              action="action_project"
              sequence="15"/>

    <menuitem id="menu_product_types"
              name="Jobs"
              parent="menu_product_module_root"
              action="action_product_type"
              sequence="20"/>

    <menuitem id="menu_all_products"
              name="All Products"
              parent="menu_product_module_root"
              action="action_product"
              sequence="30"/>
</odoo>